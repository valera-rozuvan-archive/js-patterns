
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
   <title>Theme :  zen habits</title>

  <meta http-equiv="content-type"
    content="text/html;charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <link rel="stylesheet" href="css/style.css" type="text/css" />
  <link rel="stylesheet" href="css/prism.css" type="text/css" />

  <link rel="alternate" type="application/rss+xml" title="zen habits RSS Feed" href="http://zenhabits.net/feed/" />
  <link rel="pingback" href="http://zenhabits.net/xmlrpc.php" />


<link rel="shortcut icon" href="http://zenhabits.net/favicon.ico" />


<link href='http://fonts.googleapis.com/css?family=Cardo:400,400italic,700' rel='stylesheet' type='text/css' />
<link href='http://fonts.googleapis.com/css?family=Sorts+Mill+Goudy:400,400italic' rel='stylesheet' type='text/css' />

    <style type="text/css">
img.wp-smiley,
img.emoji {
  display: inline !important;
  border: none !important;
  box-shadow: none !important;
  height: 1em !important;
  width: 1em !important;
  margin: 0 .07em !important;
  vertical-align: -0.1em !important;
  background: none !important;
  padding: 0 !important;
}
</style>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://zenhabits.net/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://zenhabits.net/wp-includes/wlwmanifest.xml" />
<meta name="generator" content="WordPress 4.2.2" />
<link rel='canonical' href='http://zenhabits.net/theme/' />
<link rel='shortlink' href='http://zenhabits.net/?p=8490' />

</head>
<body>
  <div class="container">
    <div class="top">
      <h1><a href="https://kb.epam.com/display/GDOKB/JS+Mentoring+program+Kyiv.2015-06">JS Mentoring</a> : <a id="tagline" href="https://kb.epam.com/pages/viewpage.action?pageId=290394190">JS patterns – part 1</a></h1>
    </div> <!-- /end .top -->

    <div class="post">

      <h2>Promise / Deffered object</h2>
<blockquote>
<p>&#8216;promises can mitigate the “Pyramid of Doom”: the situation where code marches to the right faster than it marches forward.&#8217; <strong>~<a href="http://documentup.com/kriskowal/q/">Kristopher Michael Kowal</a></strong></p>
</blockquote>

<p>It might be very well that right now you are writing code like this:</p>

<pre class="line-numbers"><code class="language-javascript">
step1(function (value1) {
    step2(value1, function(value2) {
        step3(value2, function(value3) {
            step4(value3, function(value4) {
                // Do something with value4
            });
        });
    });
});</code></pre>

<p>Promises allow you to rewrite your code like so:</p>

<pre class="line-numbers"><code class="language-javascript">
promisedStep1
.then(promisedStep2)
.then(promisedStep3)
.then(promisedStep4)
.then(function (value4) {
    // Do something with value4
})
.catch(function (error) {
    // Handle any error from all above steps
})
.done();</code></pre>

<p>In the code sample above <strong>promisedStep{N}</strong> is a version of <strong>step{N}</strong> which returns a promise.</p>

<img style="width: 100%;" src="images/promises.png" alt="Promises diagram" />

<p>Several specifications that define promises exist.</p>

<ol>
  <li>Promises/A [<a href="http://wiki.commonjs.org/wiki/Promises/A">http://wiki.commonjs.org/wiki/Promises/A</a>]</li>
  <li>Promises/A+ [<a href="https://promisesaplus.com">https://promisesaplus.com</a>]</li>
  <li>Standard ECMA-262 6th Edition: Promise Objects [<a href="http://www.ecma-international.org/ecma-262/6.0/#sec-promise-objects">http://www.ecma-international.org/ecma-262/6.0/#sec-promise-objects</a>]</li>
</ol>

<h2>Chain of responsibility</h2>

<p>In object-oriented design, the chain-of-responsibility pattern is a design pattern consisting of a source of command objects and a series of processing objects. Each processing object contains logic that defines the types of command objects that it can handle; the rest are passed to the next processing object in the chain. A mechanism also exists for adding new processing objects to the end of this chain.</p>

<img style="width: 100%;" src="images/Chain.gif" alt="Chain of responsibility diagram" />

<p>An example of a chain-of-responsibility is event-bubbling in which an event propagates through a series of nested controls one of which may choose to handle the event.</p>

<pre class="line-numbers"><code class="language-markup">
&lt;!DOCTYPE HTML&gt;&#10;&lt;html&gt;&#10;&lt;body&gt;&#10;&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;example.css&quot;&gt;&#10;&#10;&lt;div class=&quot;d1&quot;&gt;1  &lt;!-- the topmost --&gt;&#10;    &lt;div class=&quot;d2&quot;&gt;2&#10;        &lt;div class=&quot;d3&quot;&gt;3 &lt;!-- the innermost --&gt;&#10;        &lt;/div&gt;&#10;    &lt;/div&gt;&#10;&lt;/div&gt;&#10;&#10;&lt;/body&gt;&#10;&lt;/html&gt;</code></pre>

<br />

<h4>Benefits of the Chain of Responsibility Pattern</h4>

<p>The chain of responsibility pattern allows you to dynamically choose which object handles a request. This means you can use conditions known only at run-time to assign tasks to the most appropriate object.</p>


<h3>Command</h3>

<p>The general idea behind the Command pattern is that it provides us a means to separate the responsibilities of issuing commands from anything executing commands, delegating this responsibility to different objects instead.</p>

<img  style="width: 100%;" src="images/command.png" alt="Command diagram" />

<p>The Command pattern has four main parts that make it up.</p>

<ol>
  <li>Command object</li>
  <li>Client</li>
  <li>Invoker</li>
  <li>Receiver</li>
</ol>

<pre class="line-numbers"><code class="language-javascript">
var CarManager = {
  // request information
  requestInfo: function( model, id ){
    return "Info for " + model + " with ID " + id + " is f1";
  },

  // purchase the car
  buyVehicle: function( model, id ){
    return "You have purchased Item " + id + ", a " + model;
  },

  // arrange a viewing
  arrangeViewing: function( model, id ){
    return "Booked a view of " + model + " ( " + id + " ) ";
  }
};

// We want to be able to do:
CarManager.execute( "buyVehicle", "Ford Escort", "453543" );

// We can achieve this with:
CarManager.execute = function ( name ) {
  return CarManager[name] &&
    CarManager[name].apply(
      CarManager,
      [].slice.call(arguments, 1)
    );
};
</code></pre>
    </div> <!-- /end .post -->

    <div class="footer">
      <p><a href="/about/">Valera Rozuvan</a> ::
        <a href="/archives/">Mentoring JS</a> ::
        <a href="/start/">EPAM Systems</a> ::
        <a href="/books/">July 2015</a></p>

    </div><!-- /end .footer-->

  </div>  <!-- /end .container -->

<script src="js/prism.js" type="text/javascript"></script>

</body>
</html>
